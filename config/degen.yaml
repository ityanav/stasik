instance_name: "DEGEN"
initial_balance: 164235

bybit:
  testnet: false
  demo: true
  api_key: "Ct24OvPFimR3vLSlcW"
  api_secret: "CNzK2w9eQ41j4A4dszBLvvOkAH61Z5BQG9oq"

database:
  path: "/root/stasik/data/degen.db"

trading:
  pairs: ["DOGEUSDT", "TRUMPUSDT", "WIFUSDT", "1000PEPEUSDT", "SHIB1000USDT", "1000BONKUSDT", "FARTCOINUSDT", "POPCATUSDT", "MOODENGUSDT", "VIRTUALUSDT"]
  market_type: "futures"
  timeframe: "5"                    # 5 мин
  tick_interval: 10                 # проверка каждые 10 сек
  htf_timeframe: "60"               # 1H HTF — скачок должен быть виден на часовке
  leverage: 10                      # 10x
  trading_hours: [0, 24]            # 24/7

strategy:
  strategy_mode: "kotegawa"           # Котегава — покупай крэш мемов, продавай пампы
  # SMA deviation — ШИРОКИЕ пороги: мемы двигаются на 3-15%, ждём реальные скачки
  sma_period: 25
  sma_deviation_mild: 3.0            # 3% отклонение → score +-1 (было 1.5% — входил на шуме)
  sma_deviation_extreme: 8.0         # 8% отклонение → score +-2 (реальный крэш/памп)
  # RSI — только экстремумы
  rsi_period: 14
  rsi_overbought: 78                 # выше чем у SCALP — мемы часто overbought
  rsi_oversold: 22                   # ниже чем у SCALP — ждём настоящую панику
  rsi_extreme_low: 12                # экстремальная паника
  rsi_extreme_high: 88               # экстремальная эйфория
  # EMA для HTF
  ema_fast: 12
  ema_slow: 26
  # MACD
  macd_fast: 8
  macd_slow: 17
  macd_signal: 9
  # Bollinger Bands
  bb_period: 20
  bb_std: 2.0
  # Volume — скачок должен быть на объёме
  vol_period: 14
  vol_threshold: 1.5                 # 1.5x объём (было 1.2 — слишком мягко)
  # Scoring — СТРОГИЙ
  min_score: 4                       # 4 из 8 — только высокая конвикция (было 2!)
  adx_period: 14
  adx_min: 18                        # 18 — только чёткие движения (было 8)
  fng_extreme_greed: 100
  fng_extreme_fear: 0
  funding_rate_max: 999
  patterns_enabled: true
  orderbook_enabled: true
  market_bias: false
  htf_filter: true                   # ВКЛЮЧЁН — скачок должен подтверждаться на 1H (было false!)
  htf_score_min: 4                   # контр-тренд: нужен score >= 4
  htf_min_sma_dev: 1.0              # HTF (1H) должен показывать отклонение >= 1%
  kotegawa_exit_ratio: 0.5           # 50% — фолбэк если scale_out выключен
  scale_out_enabled: true
  scale_out_stages: [0.20, 0.40, 0.50]   # memes spike fast — quick locks
  scale_out_sizes: [0.35, 0.35, 0.30]
  # Liquidity filter
  min_24h_turnover: 5000000          # минимум $5M оборот (было $2M — неликвид опасен)
  max_spread_pct: 0.05
  # Anti-pump filter
  pump_filter: true
  pump_candle_pct: 5.0
  pump_vol_spike: 3.0
  pump_min_steps: 2

risk:
  risk_per_trade: 0.5
  max_risk_per_trade: 200
  stop_loss: 2.0                     # фолбэк SL 2%
  take_profit: 4.0                   # фолбэк TP 4%
  max_open_positions: 5              # макс 5 позиций (было 10 — слишком много)
  max_daily_loss: 5.0
  daily_drawdown_from_profit: 50
  trailing_stop: 1.0
  trailing_activation: 2.0
  partial_close_enabled: false
  # ATR-based dynamic SL/TP
  atr_period: 14
  atr_sl_multiplier: 2.0
  atr_tp_multiplier: 4.0
  atr_trailing_multiplier: 1.5
  # ATR clamp — шире для мемов
  atr_sl_min: 1.0                    # мин SL 1% (было 0.8%)
  atr_sl_max: 4.0                    # макс SL 4% (было 3%)
  atr_tp_min: 2.0
  atr_tp_max: 8.0                    # макс TP 8% (было 6%)
  atr_trail_min: 0.8
  atr_trail_max: 3.0
  # Cooldown
  cooldown_after_loss: 30            # 30 мин после убытка (было 10 — влетал обратно)
  breakeven_activation: 0
  # Commission-aware TP
  commission_rate: 0.055              # Bybit taker worst case
  min_tp_net: 500                    # TP = чистая прибыль >= 500 USDT после комиссии
  # Correlation
  max_per_group: 2                    # макс 2 мема из одной группы (было 3)
  correlation_groups:
    dog_memes: ["DOGEUSDT", "SHIB1000USDT", "1000BONKUSDT"]
    sol_memes: ["WIFUSDT", "POPCATUSDT", "MOODENGUSDT"]
    degen: ["1000PEPEUSDT", "FARTCOINUSDT"]
    political: ["TRUMPUSDT"]
    ai_agents: ["VIRTUALUSDT"]

ai:
  enabled: true
  provider: "deepseek"
  api_key: "sk-2dec36c8752d48b6b2cfdedd21337126"
  model: "deepseek-chat"
  style: "kotegawa"
  min_confidence: 6                   # 6 — только уверенные входы (было 3!)
  timeout: 10
  review_interval: 0
  extra_timeframes: ["5", "15", "60"]

other_instances:
  - name: "SCALP"
    db_path: "/root/stasik/data/trades.db"
    service: "stasik"
    timeframe: "5м"
    leverage: "10x"
    pairs: ["BTCUSDT", "ETHUSDT", "XRPUSDT", "ADAUSDT", "AVAXUSDT", "LINKUSDT", "NEARUSDT", "SUIUSDT", "APTUSDT"]
  - name: "SWING"
    db_path: "/root/stasik/data/swing.db"
    service: "stasik-swing"
    timeframe: "D"
    leverage: "2x"
    pairs: ["BTCUSDT", "ETHUSDT", "SOLUSDT", "XRPUSDT", "ADAUSDT", "AVAXUSDT", "LINKUSDT", "NEARUSDT", "SUIUSDT", "APTUSDT"]

telegram:
  token: "7852966698:AAFA_L6ovqXtTmMO05DBZg3UYbx4DklIY7k"
  chat_id: "885025581"
  notify_only: true

dashboard:
  enabled: false
