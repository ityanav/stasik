instance_name: "SWING"
initial_balance: 164235

bybit:
  testnet: false
  demo: true
  api_key: "Ct24OvPFimR3vLSlcW"
  api_secret: "CNzK2w9eQ41j4A4dszBLvvOkAH61Z5BQG9oq"

database:
  path: "/root/stasik/data/swing.db"

trading:
  pairs: ["BTCUSDT", "ETHUSDT", "SOLUSDT", "XRPUSDT", "ADAUSDT", "AVAXUSDT", "LINKUSDT", "NEARUSDT", "SUIUSDT", "APTUSDT"]
  market_type: "futures"
  timeframe: "D"                   # 1 день
  htf_timeframe: "W"               # недельный фильтр тренда
  leverage: 2                      # 2x — безопасно для дневного TF
  trading_hours: [0, 24]           # 24/7 — свинг не нуждается в фильтре сессий

strategy:
  strategy_mode: "kotegawa"          # Стратегия Котегавы — mean reversion
  # SMA deviation (main signal) — дневной TF, пороги шире
  sma_period: 25
  sma_deviation_mild: 5.0            # 5% отклонение → score +-1 (дневки)
  sma_deviation_extreme: 15.0        # 15% отклонение → score +-2 (крэш/помпа)
  # RSI
  rsi_period: 14
  rsi_overbought: 70
  rsi_oversold: 30
  rsi_extreme_low: 20                # экстремальная паника
  rsi_extreme_high: 80               # экстремальная эйфория
  # EMA для HTF
  ema_fast: 20
  ema_slow: 50
  # MACD (для AI аналитика)
  macd_fast: 12
  macd_slow: 26
  macd_signal: 9
  # Bollinger Bands
  bb_period: 20
  bb_std: 2.0
  # Volume
  vol_period: 20
  vol_threshold: 1.2                 # повышенный объём = паника
  # Scoring
  min_score: 2                       # 2 из 6 — дневки дают мало совпадений (AI фильтрует)
  adx_period: 14
  adx_min: 15
  fng_extreme_greed: 100             # отключён — Котегава продаёт при жадности
  fng_extreme_fear: 0                # отключён — Котегава покупает при страхе
  funding_rate_max: 999              # отключён
  patterns_enabled: true
  orderbook_enabled: true
  market_bias: false                  # отключён — Котегава контр-тренд
  kotegawa_exit_ratio: 0.7           # выход на 70% пути от входа к SMA (ранняя фиксация)

risk:
  risk_per_trade: 1.0              # 1% баланса на сделку (консервативно)
  stop_loss: 3.0                   # фолбэк SL 3% (ATR обычно даст больше)
  take_profit: 6.0                 # фолбэк TP 6%
  max_open_positions: 10           # 10 позиций (x2 для Котегавы)
  max_daily_loss: 5.0              # 5% дневной лимит
  trailing_stop: 2.0               # фолбэк trailing 2%
  trailing_activation: 1.5         # активация после 1.5% прибыли
  partial_close_enabled: false        # Котегава ждёт полный возврат к SMA
  max_per_group: 2                 # свинг: 2 из 3 мажоров одновременно — нормально
  correlation_groups:
    majors: ["BTCUSDT", "ETHUSDT", "SOLUSDT"]
    alt_l1: ["AVAXUSDT", "NEARUSDT", "SUIUSDT", "APTUSDT"]
    alt_infra: ["XRPUSDT", "ADAUSDT", "LINKUSDT"]
  # ATR-based dynamic SL/TP (ключевое для свинга)
  atr_period: 14
  atr_sl_multiplier: 2.0           # SL = 2.0 * ATR (шире чем скальпер)
  atr_tp_multiplier: 4.0           # TP = 4.0 * ATR (R:R = 2:1)
  atr_trailing_multiplier: 1.5     # trailing = 1.5 * ATR
  # ATR clamp ranges (шире чем скальпер — дневной ATR 3-5%)
  atr_sl_min: 1.0                  # мин SL 1%
  atr_sl_max: 10.0                 # макс SL 10%
  atr_tp_min: 2.0                  # мин TP 2%
  atr_tp_max: 20.0                 # макс TP 20%
  atr_trail_min: 0.5               # мин trailing 0.5%
  atr_trail_max: 5.0               # макс trailing 5%
  cooldown_after_loss: 720         # 12 часов кулдауна после убытка (было 24ч)
  breakeven_activation: 0            # отключён — Котегава даёт позиции развиться

ai:
  enabled: true
  provider: "deepseek"
  api_key: "sk-2dec36c8752d48b6b2cfdedd21337126"
  model: "deepseek-chat"
  style: "kotegawa"                 # AI по стратегии Котегавы
  min_confidence: 3                # снижен для активности (было 5)
  timeout: 15
  review_interval: 7               # ревью каждые 7 тиков (=7 дней при D TF)
  extra_timeframes: ["240", "D", "W"]    # 4h, D, W — недельный контекст для AI

other_instances:
  - name: "SCALP"
    db_path: "/root/stasik/data/trades.db"
    service: "stasik"
    timeframe: "5м"
    leverage: "10x"
    pairs: ["BTCUSDT", "ETHUSDT", "XRPUSDT", "ADAUSDT", "AVAXUSDT", "LINKUSDT", "NEARUSDT", "SUIUSDT", "APTUSDT", "TRUMPUSDT", "WIFUSDT", "1000PEPEUSDT", "SHIB1000USDT"]
  - name: "DEGEN"
    db_path: "/root/stasik/data/degen.db"
    service: "stasik-degen"
    timeframe: "1м"
    leverage: "10x"
    pairs: ["DOGEUSDT", "TRUMPUSDT", "WIFUSDT", "1000PEPEUSDT", "SHIB1000USDT", "1000BONKUSDT", "1000FLOKIUSDT", "FARTCOINUSDT", "PNUTUSDT", "ACTUSDT", "POPCATUSDT", "MEMEUSDT", "PENGUUSDT", "BRETTUSDT", "NOTUSDT", "GOATUSDT", "MOODENGUSDT", "VINEUSDT", "MELANIAUSDT", "VIRTUALUSDT"]

telegram:
  token: "7852966698:AAFA_L6ovqXtTmMO05DBZg3UYbx4DklIY7k"
  chat_id: "885025581"
  notify_only: true                # только уведомления, без polling (скальпер обрабатывает команды)

dashboard:
  enabled: false                   # дашборд только у скальпера
